<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PTN Portal — Privacy-first Repo Hygiene</title>
  <meta name="description" content="PTN Lightning Scan — privacy-first, local, low-energy repository hygiene. No uploads, one clear call to action." />
  <link rel="icon" href="/favicon.ico" />
  <meta property="og:title" content="PTN Portal" />
  <meta property="og:description" content="Privacy-first repo hygiene. Static landing. No trackers." />
  <meta property="og:type" content="website" />
  <style>
    :root{--bg:#0f1115;--fg:#e6e9ef;--muted:#98a2b3;--brand:#5b8cff;--ok:#16c47f;--card:#151922;--line:#222636}
    *{box-sizing:border-box}html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.55 system-ui,-apple-system,Inter,Segoe UI,Roboto,sans-serif}
    .wrap{max-width:980px;margin:0 auto;padding:36px 18px}
    .hero{display:grid;gap:14px;background:var(--card);border:1px solid var(--line);border-radius:14px;padding:28px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    h1{margin:0;font-size:2.2rem}
    p.lead{margin:0;color:var(--muted);font-size:1.05rem}
    .cta{display:inline-flex;gap:.5rem;align-items:center;margin-top:12px;padding:.75rem 1rem;border-radius:10px;background:var(--brand);color:#fff;text-decoration:none;font-weight:700}
    .meta{margin-top:6px;color:var(--muted);font-size:.9rem}
    .grid{display:grid;gap:14px;margin-top:18px}
    @media(min-width:860px){.grid{grid-template-columns:repeat(3,1fr)}}
    .card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:18px}
    .card h3{margin:.2rem 0 .4rem;font-size:1.05rem}
    .faq dt{font-weight:700;margin-top:10px}
    .faq dd{margin:.25rem 0 .75rem;color:var(--muted)}
    footer{margin-top:16px;color:var(--muted);font-size:.9rem;text-align:center}
    code,kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;background:#0b0d12;border:1px solid #1b1f2a;border-radius:6px;padding:.08rem .35rem}
  </style>
</head>
<body>
  <main class="wrap">
    <section class="hero">
      <small>PTN Lightning Scan</small>
      <h1>Privacy-first, local, low-energy repo hygiene</h1>
      <p class="lead">15-minute local scan → HTML dashboard + CSVs + ZIP. <strong>No uploads.</strong></p>
      <a id="cta" class="cta" href="#" target="_blank" rel="noopener">
        <span id="label">Buy me a coffee</span> — $<span id="price">59</span>
      </a>
      <div class="meta">Zero trackers • Works offline • One clear CTA</div>
    <div id="ptn-ctas" style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <a class="btn" href="https://buymeacoffee.com/yourname/ptn59?utm_source=ptn-portal" target="_blank" rel="noopener">Pay with card — $<span id="price">59</span></a>
      <a class="btn" id="pay-crypto" style="background:#f6851b" href="javascript:void(0)">Pay with MetaMask (USDC $<span id="mm-amt">59</span>)</a>
      <a class="btn" style="background:#64748b" href="mailto:you@example.com?subject=PTN%20Lightning%20Scan" target="_blank" rel="noopener">Email me</a>
    </div>
    <div id="ptn-ctas" style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <a class="btn" href="https://buymeacoffee.com/yourname/ptn59?utm_source=ptn-portal" target="_blank" rel="noopener">Pay with card — $59</a>
      <a class="btn" style="background:#16c47f" href="https://example.com/your-crypto-checkout" target="_blank" rel="noopener">Pay with crypto (MetaMask)</a>
      <a class="btn" style="background:#64748b" href="mailto:you@example.com?subject=PTN%20Lightning%20Scan" target="_blank" rel="noopener">Email me</a>
    </div>
    <div class="payrow" style="display:flex;gap:10px;flex-wrap:wrap;margin-top:6px">
      <a class="btn" href="https://buymeacoffee.com/yourname/ptn59?utm_source=ptn-portal" target="_blank" rel="noopener">Pay with card — $59</a>
      <a class="btn" style="background:#0ea5e9" href="https://wa.me/905551112233?text=Hi%20PTN,%20I%20want%20to%20pay%20with%20crypto/bank" target="_blank" rel="noopener">Message on WhatsApp</a>
      <a class="btn" style="background:#64748b" href="mailto:you@example.com?subject=PTN%20Lightning%20Scan" target="_blank" rel="noopener">Email me</a>
    </div>
    </section>

    <section class="grid">
      <article class="card">
        <h3>Local & Private</h3>
        <p>Runs on your machine. No telemetry. Keep secrets and IP fully offline.</p>
      </article>
      <article class="card">
        <h3>Actionable Outputs</h3>
        <p>Readable HTML report, CSV exports, and a ready-to-share ZIP bundle.</p>
      </article>
      <article class="card">
        <h3>Tiny Footprint</h3>
        <p>Optimized for low energy usage and zero dependencies in production.</p>
      </article>
    </section>

    <section class="card" style="margin-top:18px">
      <h3>FAQ</h3>
      <dl class="faq">
        <dt>Does it upload my code?</dt>
        <dd>No. Everything runs locally; results are stored on your disk.</dd>
        <dt>How do I support?</dt>
        <dd>Use the button above. Add <code>?price=59&pay=https://buymeacoffee.com/yourname/ptn59</code> to share a prefilled link.</dd>
      </dl>
    </section>

    <footer>© PTN — minimal energy • zero upload</footer>
  </main>

  <script>
    // Query params: ?price=59&pay=https://buymeacoffee.com/yourname/ptn59&label=Support
    const qp=new URLSearchParams(location.search);
    const price=(qp.get('price')||'59').replace(/[^0-9.]/g,'');
    const pay=qp.get('pay')||'https://buymeacoffee.com/yourname/ptn59';
    const label=qp.get('label')||'Buy me a coffee';
    document.getElementById('price').textContent=price||'59';
    document.getElementById('label').textContent=label;
    const utm='gh-pages.ptn-portal';
    document.getElementById('cta').href=pay+(pay.includes('?')?'&':'?')+'utm_source='+encodeURIComponent(utm);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script>
  (async()=>{
    const recipient = "0x8b82E60e4353E0f65EC0aD27C852B0c252962b59";
    const amountUsd = 59;
    const usdc = "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"; // USDC (Ethereum mainnet, 6 decimals)
    const btn = document.getElementById("pay-crypto"); if(!btn) return;
    const mobileDeepLink = `https://metamask.app.link/send/${usdc}@1/transfer?address=${recipient}&uint256=${amountUsd*1000000}`;
    if(!window.ethereum){ btn.onclick=()=>window.open(mobileDeepLink, "_blank"); return; }
    btn.onclick = async ()=>{
      try{
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts",[]);
        const net = await provider.getNetwork();
        if(net.chainId !== 1){ await provider.send("wallet_switchEthereumChain",[{chainId:"0x1"}]); }
        const signer = provider.getSigner();
        const erc20 = new ethers.Contract(usdc,["function transfer(address to,uint256 amount) returns (bool)"], signer);
        const amount = BigInt(amountUsd) * 10n**6n;
        const tx = await erc20.transfer(recipient, amount);
        const old = btn.textContent; btn.textContent = "Waiting for confirmation...";
        await tx.wait(); btn.textContent = "Paid via MetaMask ✔";
      }catch(e){ alert(e?.message||String(e)); }
    };
  })();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="./metamask.js"></script>
</body>
</html>
